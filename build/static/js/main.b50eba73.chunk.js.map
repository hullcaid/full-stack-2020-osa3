{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filterValue","handleFilterChange","value","onChange","PersonForm","nameInput","numberInput","handleNameChange","handleNumberChange","handleSubmit","onSubmit","type","Person","id","name","number","handleDelete","onClick","Persons","persons","length","map","person","key","filter","toLowerCase","includes","filteredPerson","Notification","message","className","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","dbUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filterString","setFilterString","notificationMessage","setNotificationMessage","notificationType","setNotificationType","useEffect","listingService","event","target","preventDefault","window","confirm","find","changedPerson","setTimeout","catch","error","concat","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b50eba73.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filterValue, handleFilterChange}) => {\r\n\treturn(\r\n\t<div>\r\n      Filter names with <input\r\n      value={filterValue}\r\n      onChange={handleFilterChange}>\r\n      </input>\r\n\t</div>\r\n\r\n\t)\r\n\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({nameInput, numberInput, handleNameChange, handleNumberChange, handleSubmit}) => {\r\n\treturn(\r\n\t\t<form onSubmit={handleSubmit}>\r\n        <div>\r\n          name: <input \r\n\t\t      \tvalue={nameInput}\r\n\t\t\t      onChange={handleNameChange}\r\n\t\t      />\r\n        </div>\r\n        <div>\r\n          number: <input\r\n            value={numberInput}\r\n            onChange={handleNumberChange} \r\n            />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n\t)\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({id, name, number, handleDelete}) => {\r\n\t// console.log(handleDelete)\r\n\treturn(<li>{name} {number} <button onClick={()=> handleDelete(id)}>Delete</button></li>)\r\n}\r\n\t\r\nexport default Person ","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, filterValue, handleDelete}) => { \r\n  // console.log(handleDelete)\r\n  if(filterValue.length === 0){\r\n      return(\r\n      <ul>\r\n        {persons.map(person => <Person key={person.id} id={person.id} name={person.name} number={person.number} handleDelete={handleDelete}/>)}\r\n      </ul>)\r\n    }\r\n    return(\r\n      <ul>\r\n      {persons\r\n      .filter(person => person.name.toLowerCase().includes(filterValue.toLowerCase()))\r\n      .map(filteredPerson => \r\n        <Person key={filteredPerson.id} id={filteredPerson.id} name={filteredPerson.name} number={filteredPerson.number} handleDelete={handleDelete}/>)}\r\n      </ul>\r\n      )\r\n  }\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, type }) => {\r\n\tconst notificationStyle = {\r\n\t\tcolor: 'green',\r\n  \t\tbackground: 'lightgrey',\r\n  \t\tfontSize: 20,\r\n  \t\tborderStyle: 'solid',\r\n  \t\tborderRadius: 5,\r\n  \t\tpadding: 10,\r\n  \t\tmarginBottom: 10\r\n\t}\r\n\t\r\n\tconst errorStyle = {\r\n\t\tcolor: 'red',\r\n  \t\tbackground: 'lightgrey',\r\n  \t\tfontSize: 20,\r\n  \t\tborderStyle: 'solid',\r\n  \t\tborderRadius: 5,\r\n  \t\tpadding: 10,\r\n  \t\tmarginBottom: 10\r\n\t}\r\n\r\n\tif (message === null) {\r\n\t\treturn null\r\n\t} else {\r\n\t\tif (type === \"error\"){\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"error\" style= {errorStyle}>\r\n\t\t\t\t\t{message}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if (type === \"notification\") {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"notification\" style={notificationStyle}>\r\n\t\t\t\t\t{message}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst dbUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(dbUrl)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n\tconst request = axios.post(dbUrl, newObject)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n\treturn axios.delete(`${dbUrl}/${id}`)\r\n}\r\n\r\nconst modify = (id, newObject) => {\r\n\tconst request = axios.put(`${dbUrl}/${id}`,newObject)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, remove, modify}","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport listingService from './services/persons'\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filterString, setFilterString] = useState('')\r\n  const [ notificationMessage, setNotificationMessage] = useState(null)\r\n  const [ notificationType, setNotificationType] = useState(null)\r\n\r\n  useEffect(() => {\r\n    listingService.getAll()\r\n    .then(response => setPersons(response))\r\n  },\r\n  [])\r\n  \r\n  const handleSubmit = (event) =>{\r\n\t  event.preventDefault()\r\n\t  if (persons.filter(person => person.name === newName).length > 0) {\r\n      if(window.confirm(`${newName} is already added to phonebook, do you want to replace the old number with a new one?`)){\r\n        const person = persons.find(person => person.name === newName)\r\n        const changedPerson = {...person, number: newNumber}\r\n\r\n        listingService.modify(person.id, changedPerson)\r\n          .then(response => {\r\n            setPersons(persons.map(person => person.id !== response.id ? person : response))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            setNotificationType('notification')\r\n            setNotificationMessage(`Changed ${response.name}`)\r\n            setTimeout(()=>{\r\n              setNotificationMessage(null)\r\n              setNotificationType(null)\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            setNotificationType('error')\r\n            setNotificationMessage(`${changedPerson.name} was not found from the server`)\r\n            setPersons(persons.filter(person => person.id !== changedPerson.id))\r\n            setTimeout(() => {\r\n              setNotificationMessage(null)\r\n              setNotificationType(null)\r\n            }, 5000)\r\n          })\r\n      }\r\n\t  } else {\r\n\t\tconst personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    listingService.create(personObject)\r\n      .then(response => {\r\n        setPersons(persons.concat(response))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setFilterString('')\r\n        setNotificationType('notification')\r\n        setNotificationMessage(`Added ${response.name}`)\r\n        setTimeout(()=> {\r\n          setNotificationMessage(null)\r\n          setNotificationType(null)\r\n        }, 5000)\r\n      })\r\n\t  }\r\n  }  \r\n  \r\n  const handleNewNameChange = (event) => {\r\n\t  setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNewNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    const filterValue = event.target.value\r\n    setFilterString(filterValue)\r\n  }\r\n\r\n  const handleRemoveButton = (id) => {\r\n    // console.log('pressed ', id)\r\n    // console.log(persons)\r\n    const personToDelete = persons.find(person => person.id === id)\r\n    // console.log(personToDelete)\r\n    if(window.confirm(`Delete ${personToDelete.name}?`)) {\r\n      // console.log(`Deleting ${personToDelete.name}`)\r\n      listingService.remove(id)\r\n        .then(()=>{\r\n          setPersons(persons.filter(person => person.id !== id))\r\n          setNotificationType('notification')\r\n          setNotificationMessage(`Removed ${personToDelete.name}`)\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n            setNotificationType(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notificationMessage} type={notificationType}/>\r\n      <Filter filterValue={filterString} handleFilterChange={handleFilterChange}/>\r\n      <h2>Add new</h2>\r\n      <PersonForm \r\n        nameInput={newName} \r\n        numberInput={newNumber} \r\n        handleNameChange={handleNewNameChange}\r\n        handleNumberChange={handleNewNumberChange}\r\n        handleSubmit={handleSubmit} />\r\n      <h2>Numbers</h2>\r\n\t\t  <Persons persons={persons} filterValue={filterString} handleDelete={handleRemoveButton}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}